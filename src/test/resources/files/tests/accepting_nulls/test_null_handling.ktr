<?xml version="1.0" encoding="UTF-8"?>
<transformation>
    <info>
        <name>Test null handling</name>
        <description />
        <extended_description />
        <trans_version />
        <trans_type>Normal</trans_type>
        <trans_status>0</trans_status>
        <directory>&#47;</directory>
        <parameters>
        </parameters>
        <log>
            <trans-log-table>
                <connection />
                <schema />
                <table />
                <size_limit_lines />
                <interval />
                <timeout_days />
                <field>
                    <id>ID_BATCH</id>
                    <enabled>Y</enabled>
                    <name>ID_BATCH</name>
                </field>
                <field>
                    <id>CHANNEL_ID</id>
                    <enabled>Y</enabled>
                    <name>CHANNEL_ID</name>
                </field>
                <field>
                    <id>TRANSNAME</id>
                    <enabled>Y</enabled>
                    <name>TRANSNAME</name>
                </field>
                <field>
                    <id>STATUS</id>
                    <enabled>Y</enabled>
                    <name>STATUS</name>
                </field>
                <field>
                    <id>LINES_READ</id>
                    <enabled>Y</enabled>
                    <name>LINES_READ</name>
                    <subject />
                </field>
                <field>
                    <id>LINES_WRITTEN</id>
                    <enabled>Y</enabled>
                    <name>LINES_WRITTEN</name>
                    <subject />
                </field>
                <field>
                    <id>LINES_UPDATED</id>
                    <enabled>Y</enabled>
                    <name>LINES_UPDATED</name>
                    <subject />
                </field>
                <field>
                    <id>LINES_INPUT</id>
                    <enabled>Y</enabled>
                    <name>LINES_INPUT</name>
                    <subject />
                </field>
                <field>
                    <id>LINES_OUTPUT</id>
                    <enabled>Y</enabled>
                    <name>LINES_OUTPUT</name>
                    <subject />
                </field>
                <field>
                    <id>LINES_REJECTED</id>
                    <enabled>Y</enabled>
                    <name>LINES_REJECTED</name>
                    <subject />
                </field>
                <field>
                    <id>ERRORS</id>
                    <enabled>Y</enabled>
                    <name>ERRORS</name>
                </field>
                <field>
                    <id>STARTDATE</id>
                    <enabled>Y</enabled>
                    <name>STARTDATE</name>
                </field>
                <field>
                    <id>ENDDATE</id>
                    <enabled>Y</enabled>
                    <name>ENDDATE</name>
                </field>
                <field>
                    <id>LOGDATE</id>
                    <enabled>Y</enabled>
                    <name>LOGDATE</name>
                </field>
                <field>
                    <id>DEPDATE</id>
                    <enabled>Y</enabled>
                    <name>DEPDATE</name>
                </field>
                <field>
                    <id>REPLAYDATE</id>
                    <enabled>Y</enabled>
                    <name>REPLAYDATE</name>
                </field>
                <field>
                    <id>LOG_FIELD</id>
                    <enabled>Y</enabled>
                    <name>LOG_FIELD</name>
                </field>
            </trans-log-table>
            <perf-log-table>
                <connection />
                <schema />
                <table />
                <interval />
                <timeout_days />
                <field>
                    <id>ID_BATCH</id>
                    <enabled>Y</enabled>
                    <name>ID_BATCH</name>
                </field>
                <field>
                    <id>SEQ_NR</id>
                    <enabled>Y</enabled>
                    <name>SEQ_NR</name>
                </field>
                <field>
                    <id>LOGDATE</id>
                    <enabled>Y</enabled>
                    <name>LOGDATE</name>
                </field>
                <field>
                    <id>TRANSNAME</id>
                    <enabled>Y</enabled>
                    <name>TRANSNAME</name>
                </field>
                <field>
                    <id>STEPNAME</id>
                    <enabled>Y</enabled>
                    <name>STEPNAME</name>
                </field>
                <field>
                    <id>STEP_COPY</id>
                    <enabled>Y</enabled>
                    <name>STEP_COPY</name>
                </field>
                <field>
                    <id>LINES_READ</id>
                    <enabled>Y</enabled>
                    <name>LINES_READ</name>
                </field>
                <field>
                    <id>LINES_WRITTEN</id>
                    <enabled>Y</enabled>
                    <name>LINES_WRITTEN</name>
                </field>
                <field>
                    <id>LINES_UPDATED</id>
                    <enabled>Y</enabled>
                    <name>LINES_UPDATED</name>
                </field>
                <field>
                    <id>LINES_INPUT</id>
                    <enabled>Y</enabled>
                    <name>LINES_INPUT</name>
                </field>
                <field>
                    <id>LINES_OUTPUT</id>
                    <enabled>Y</enabled>
                    <name>LINES_OUTPUT</name>
                </field>
                <field>
                    <id>LINES_REJECTED</id>
                    <enabled>Y</enabled>
                    <name>LINES_REJECTED</name>
                </field>
                <field>
                    <id>ERRORS</id>
                    <enabled>Y</enabled>
                    <name>ERRORS</name>
                </field>
                <field>
                    <id>INPUT_BUFFER_ROWS</id>
                    <enabled>Y</enabled>
                    <name>INPUT_BUFFER_ROWS</name>
                </field>
                <field>
                    <id>OUTPUT_BUFFER_ROWS</id>
                    <enabled>Y</enabled>
                    <name>OUTPUT_BUFFER_ROWS</name>
                </field>
            </perf-log-table>
            <channel-log-table>
                <connection />
                <schema />
                <table />
                <timeout_days />
                <field>
                    <id>ID_BATCH</id>
                    <enabled>Y</enabled>
                    <name>ID_BATCH</name>
                </field>
                <field>
                    <id>CHANNEL_ID</id>
                    <enabled>Y</enabled>
                    <name>CHANNEL_ID</name>
                </field>
                <field>
                    <id>LOG_DATE</id>
                    <enabled>Y</enabled>
                    <name>LOG_DATE</name>
                </field>
                <field>
                    <id>LOGGING_OBJECT_TYPE</id>
                    <enabled>Y</enabled>
                    <name>LOGGING_OBJECT_TYPE</name>
                </field>
                <field>
                    <id>OBJECT_NAME</id>
                    <enabled>Y</enabled>
                    <name>OBJECT_NAME</name>
                </field>
                <field>
                    <id>OBJECT_COPY</id>
                    <enabled>Y</enabled>
                    <name>OBJECT_COPY</name>
                </field>
                <field>
                    <id>REPOSITORY_DIRECTORY</id>
                    <enabled>Y</enabled>
                    <name>REPOSITORY_DIRECTORY</name>
                </field>
                <field>
                    <id>FILENAME</id>
                    <enabled>Y</enabled>
                    <name>FILENAME</name>
                </field>
                <field>
                    <id>OBJECT_ID</id>
                    <enabled>Y</enabled>
                    <name>OBJECT_ID</name>
                </field>
                <field>
                    <id>OBJECT_REVISION</id>
                    <enabled>Y</enabled>
                    <name>OBJECT_REVISION</name>
                </field>
                <field>
                    <id>PARENT_CHANNEL_ID</id>
                    <enabled>Y</enabled>
                    <name>PARENT_CHANNEL_ID</name>
                </field>
                <field>
                    <id>ROOT_CHANNEL_ID</id>
                    <enabled>Y</enabled>
                    <name>ROOT_CHANNEL_ID</name>
                </field>
            </channel-log-table>
            <step-log-table>
                <connection />
                <schema />
                <table />
                <timeout_days />
                <field>
                    <id>ID_BATCH</id>
                    <enabled>Y</enabled>
                    <name>ID_BATCH</name>
                </field>
                <field>
                    <id>CHANNEL_ID</id>
                    <enabled>Y</enabled>
                    <name>CHANNEL_ID</name>
                </field>
                <field>
                    <id>LOG_DATE</id>
                    <enabled>Y</enabled>
                    <name>LOG_DATE</name>
                </field>
                <field>
                    <id>TRANSNAME</id>
                    <enabled>Y</enabled>
                    <name>TRANSNAME</name>
                </field>
                <field>
                    <id>STEPNAME</id>
                    <enabled>Y</enabled>
                    <name>STEPNAME</name>
                </field>
                <field>
                    <id>STEP_COPY</id>
                    <enabled>Y</enabled>
                    <name>STEP_COPY</name>
                </field>
                <field>
                    <id>LINES_READ</id>
                    <enabled>Y</enabled>
                    <name>LINES_READ</name>
                </field>
                <field>
                    <id>LINES_WRITTEN</id>
                    <enabled>Y</enabled>
                    <name>LINES_WRITTEN</name>
                </field>
                <field>
                    <id>LINES_UPDATED</id>
                    <enabled>Y</enabled>
                    <name>LINES_UPDATED</name>
                </field>
                <field>
                    <id>LINES_INPUT</id>
                    <enabled>Y</enabled>
                    <name>LINES_INPUT</name>
                </field>
                <field>
                    <id>LINES_OUTPUT</id>
                    <enabled>Y</enabled>
                    <name>LINES_OUTPUT</name>
                </field>
                <field>
                    <id>LINES_REJECTED</id>
                    <enabled>Y</enabled>
                    <name>LINES_REJECTED</name>
                </field>
                <field>
                    <id>ERRORS</id>
                    <enabled>Y</enabled>
                    <name>ERRORS</name>
                </field>
                <field>
                    <id>LOG_FIELD</id>
                    <enabled>N</enabled>
                    <name>LOG_FIELD</name>
                </field>
            </step-log-table>
        </log>
        <maxdate>
            <connection />
            <table />
            <field />
            <offset>0.0</offset>
            <maxdiff>0.0</maxdiff>
        </maxdate>
        <size_rowset>10000</size_rowset>
        <sleep_time_empty>50</sleep_time_empty>
        <sleep_time_full>50</sleep_time_full>
        <unique_connections>N</unique_connections>
        <feedback_shown>Y</feedback_shown>
        <feedback_size>50000</feedback_size>
        <using_thread_priorities>Y</using_thread_priorities>
        <shared_objects_file />
        <capture_step_performance>N</capture_step_performance>
        <step_performance_capturing_delay>1000</step_performance_capturing_delay>
        <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
        <dependencies>
        </dependencies>
        <partitionschemas>
        </partitionschemas>
        <slaveservers>
        </slaveservers>
        <clusterschemas>
        </clusterschemas>
        <created_user>-</created_user>
        <created_date>2011&#47;03&#47;19 18:21:39.009</created_date>
        <modified_user>-</modified_user>
        <modified_date>2011&#47;03&#47;19 18:21:39.009</modified_date>
    </info>
    <notepads>
        <notepad>
            <note>Generate empty row</note>
            <xloc>259</xloc>
            <yloc>294</yloc>
            <width>127</width>
            <heigth>29</heigth>
            <fontname>Arial</fontname>
            <fontsize>13</fontsize>
            <fontbold>N</fontbold>
            <fontitalic>N</fontitalic>
            <fontcolorred>0</fontcolorred>
            <fontcolorgreen>0</fontcolorgreen>
            <fontcolorblue>0</fontcolorblue>
            <backgroundcolorred>255</backgroundcolorred>
            <backgroundcolorgreen>165</backgroundcolorgreen>
            <backgroundcolorblue>0</backgroundcolorblue>
            <bordercolorred>100</bordercolorred>
            <bordercolorgreen>100</bordercolorgreen>
            <bordercolorblue>100</bordercolorblue>
            <drawshadow>Y</drawshadow>
        </notepad>
        <notepad>
            <note>Pass through empty row</note>
            <xloc>252</xloc>
            <yloc>43</yloc>
            <width>151</width>
            <heigth>29</heigth>
            <fontname>Arial</fontname>
            <fontsize>13</fontsize>
            <fontbold>N</fontbold>
            <fontitalic>N</fontitalic>
            <fontcolorred>0</fontcolorred>
            <fontcolorgreen>0</fontcolorgreen>
            <fontcolorblue>0</fontcolorblue>
            <backgroundcolorred>255</backgroundcolorred>
            <backgroundcolorgreen>165</backgroundcolorgreen>
            <backgroundcolorblue>0</backgroundcolorblue>
            <bordercolorred>100</bordercolorred>
            <bordercolorgreen>100</bordercolorgreen>
            <bordercolorblue>100</bordercolorblue>
            <drawshadow>Y</drawshadow>
        </notepad>
    </notepads>
    <order>
        <hop>
            <from>Generate Rows</from>
            <to>pass unaltered</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>Empty Stream</from>
            <to>Detect empty stream</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>pass unaltered</from>
            <to>Merge Rows (diff)</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>Detect empty stream</from>
            <to>set key</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>set key</from>
            <to>Merge Rows (diff)</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>Merge Rows (diff)</from>
            <to>Select values</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>Select values</from>
            <to>is identical?</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>is identical?</from>
            <to>good</to>
            <enabled>Y</enabled>
        </hop>
        <hop>
            <from>is identical?</from>
            <to>Fail</to>
            <enabled>Y</enabled>
        </hop>
    </order>
    <step>
        <name>pass unaltered</name>
        <type>RubyStep</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <scripts>
            <script>
                <title>Ruby Script</title>
                <body># your script goes here

                    $row</body>
                <role>ROW_SCRIPT</role>
            </script>
        </scripts>
        <clearInputFields>N</clearInputFields>

        <outputFields>
        </outputFields>
        <rubyVariables>
        </rubyVariables>
        <infoSteps>
        </infoSteps>
        <targetSteps>
        </targetSteps>
        <gemHome />
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>399</xloc>
            <yloc>97</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>Generate Rows</name>
        <type>RowGenerator</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <fields>
            <field>
                <name>key</name>
                <type>Integer</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif>1</nullif>
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_date</name>
                <type>Date</type>
                <format>yyyy-MM-dd</format>
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_str</name>
                <type>String</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_int</name>
                <type>Integer</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_bool</name>
                <type>Boolean</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_num</name>
                <type>Number</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_bignum</name>
                <type>BigNumber</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_serial</name>
                <type>Serializable</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_binary</name>
                <type>Binary</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
        </fields>
        <limit>1</limit>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>100</xloc>
            <yloc>97</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>Empty Stream</name>
        <type>RowGenerator</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <fields>
            <field>
                <name>key</name>
                <type>Integer</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_date</name>
                <type>Date</type>
                <format>yyyy-MM-dd</format>
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_str</name>
                <type>String</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_int</name>
                <type>Integer</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_bool</name>
                <type>Boolean</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_num</name>
                <type>Number</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_bignum</name>
                <type>BigNumber</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_serial</name>
                <type>Serializable</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
            <field>
                <name>null_binary</name>
                <type>Binary</type>
                <format />
                <currency />
                <decimal />
                <group />
                <nullif />
                <length>-1</length>
                <precision>-1</precision>
            </field>
        </fields>
        <limit>0</limit>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>100</xloc>
            <yloc>217</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>Detect empty stream</name>
        <type>DetectEmptyStream</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>245</xloc>
            <yloc>217</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>Merge Rows (diff)</name>
        <type>MergeRows</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <keys>
            <key>key</key>
        </keys>
        <values>
            <value>key</value>
        </values>
        <flag_field>result</flag_field>
        <reference>set key</reference>
        <compare>pass unaltered</compare>
        <compare>
        </compare>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>568</xloc>
            <yloc>160</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>set key</name>
        <type>Janino</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <formula>
            <field_name>key</field_name>
            <formula_string>1L</formula_string>
            <value_type>Integer</value_type>
            <value_length>-1</value_length>
            <value_precision>-1</value_precision>
            <replace_field>key</replace_field>
        </formula>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>407</xloc>
            <yloc>217</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>Select values</name>
        <type>SelectValues</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <fields>
            <field>
                <name>result</name>
                <rename />
                <length>-2</length>
                <precision>-2</precision>
            </field>
            <select_unspecified>N</select_unspecified>
        </fields>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>695</xloc>
            <yloc>161</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>good</name>
        <type>Dummy</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>941</xloc>
            <yloc>92</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>Fail</name>
        <type>Abort</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <row_threshold>0</row_threshold>
        <message />
        <always_log_rows>Y</always_log_rows>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>945</xloc>
            <yloc>230</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step>
        <name>is identical?</name>
        <type>FilterRows</type>
        <description />
        <distribute>Y</distribute>
        <copies>1</copies>
        <partitioning>
            <method>none</method>
            <schema_name />
        </partitioning>
        <send_true_to>good</send_true_to>
        <send_false_to>Fail</send_false_to>
        <compare>
            <condition>
                <negated>N</negated>
                <leftvalue>result</leftvalue>
                <function>=</function>
                <rightvalue />
                <value>
                    <name>constant</name>
                    <type>String</type>
                    <text>identical</text>
                    <length>-1</length>
                    <precision>-1</precision>
                    <isnull>N</isnull>
                    <mask />
                </value>
            </condition>
        </compare>
        <cluster_schema />
        <remotesteps>
            <input>
            </input>
            <output>
            </output>
        </remotesteps>
        <GUI>
            <xloc>814</xloc>
            <yloc>160</yloc>
            <draw>Y</draw>
        </GUI>
    </step>

    <step_error_handling>
    </step_error_handling>
    <slave-step-copy-partition-distribution>
    </slave-step-copy-partition-distribution>
    <slave_transformation>N</slave_transformation>
</transformation>
